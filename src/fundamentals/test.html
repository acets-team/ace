<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Minimal Auto-Height Tron Component</title>
  <style>
    /* ------------------------------------------- */
    /* --- Global Setup and Variables --- */
    /* ------------------------------------------- */

    body {
      background-color: black;
      font-family: sans-serif;
      padding: 20px;
      display: flex;
      flex-direction: column;
      gap: 30px;
      color: white;
    }

    :root {
      --tron-z-index: 10;
      --tron-border-radius: 8px;
      --tron-padding: 0.5rem;
      --tron-speed: 20s;
      --tron-opacity-speed: 0.5s;
      --tron-colors: #ff00ff, #00ffff, #00ff00, #ffff00, #ff0000, #ff00ff;
    }

    /* Fallback and primary definition for glow thickness */
    .tron {
      --local-tron-width: 2px;
    }

    @keyframes tron-spin {
      from {
        transform: rotate(0deg);
      }

      to {
        transform: rotate(360deg);
      }
    }

    /* ------------------------------------------- */
    /* --- The Tron Component (.tron) --- */
    /* ------------------------------------------- */

    .tron {
      position: relative;
      /* CRITICAL: Allows wrapper to grow with content */
      height: auto;
      width: 300px;
      /* Example starting width */
      min-height: 50px;
      /* Ensures a minimum vertical frame */
      border-radius: var(--tron-border-radius);

      /* Base background color is the color that will fill the glow gap */
      background: #333;
      overflow: hidden;
      /* Clips the spinning glow */
      z-index: var(--tron-z-index);
    }

    /* --- 1. The Spinning Glow Effect (::before) --- */
    .tron::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      z-index: calc(var(--tron-z-index) - 1);

      /* Ensures the animated element is huge and spins */
      width: calc(100% + 100vw);
      height: calc(100% + 100vh);
      top: 0;
      left: -50vw;
      right: 0;
      bottom: 0;
      margin: auto;

      opacity: 0;
      transition: opacity var(--tron-opacity-speed);
      pointer-events: none;
      background-image: conic-gradient(var(--tron-colors));
      animation: tron-spin var(--tron-speed) linear infinite;
      animation-play-state: paused;
    }

    /* --- 2. The Inner Dark Mask (::after) --- */
    .tron::after {
      content: '';
      position: absolute;

      /* CRITICAL: Sizing and positioning create the gap */
      top: var(--local-tron-width);
      right: var(--local-tron-width);
      bottom: var(--local-tron-width);
      left: var(--local-tron-width);

      /* This background is the dark color that covers the glow */
      background: #111;

      border-radius: inherit;
      z-index: calc(var(--tron-z-index));
    }

    /* --- Activation Logic --- */
    .tron.hover:hover::before {
      opacity: 1;
      animation-play-state: running;
    }

    /* --- The Content Container (.tron-content) --- */
    .tron-content {
      position: relative;
      z-index: calc(var(--tron-z-index) + 1);
      /* Puts content above the mask and glow */
    }

    /* --- Tabs (For testing horizontal overflow) --- */
    .tabs-example {
      overflow-x: auto;
      white-space: nowrap;
      padding-bottom: 5px;
      margin-top: 10px;
    }

    .tab-item {
      display: inline-block;
      padding: 5px 10px;
      margin-right: 8px;
      background: #222;
      border-radius: 4px;
      font-size: 0.8rem;
    }

    /* ------------------------------------------- */
    /* --- Example Specific Styles (Widths/Shapes) --- */
    /* ------------------------------------------- */

    .tron-wide {
      width: 450px;
    }

    .tron-skinny {
      width: 180px;
    }

    .tron-square {
      width: 200px;
      aspect-ratio: 1 / 1;
    }

    .tron-circle {
      width: 150px;
      aspect-ratio: 1 / 1;
      border-radius: 50%;
    }

    .tron-circle .tron-content {
      border-radius: 50%;
    }

    /* To keep internal content round */
  </style>
</head>

<body>

  <div class="tron hover" style="--local-tron-width: 2px;">
    <div class="tron-content">
      <p>**1. Auto Height, Thin Glow (2px)**</p>
      <p>This wrapper grows naturally with content. Inner content requires no special styles.</p>
      <p>Line 3</p>
      <p>Line 4</p>
      <div class="tabs-example">
        <div class="tab-item">Tab 1 (Horizontal Scroll)</div>
        <div class="tab-item">Tab 2</div>
        <div class="tab-item">Tab 3</div>
      </div>
    </div>
  </div>

  <div class="tron hover tron-wide" style="--local-tron-width: 5px; height: 100px;">
    <div class="tron-content">
      <p>**2. Fixed Height (5px Glow, Wide)**</p>
      <p>Height is explicitly 100px. Glow is thick.</p>
      <div class="tabs-example">
        <div class="tab-item">Tab 1 (H-Scroll)</div>
        <div class="tab-item">Tab 2</div>
        <div class="tab-item">Tab 3</div>
        <div class="tab-item">Tab 4</div>
      </div>
    </div>
  </div>

  <div class="tron hover tron-skinny" style="--local-tron-width: 3px;">
    <div class="tron-content">
      <p>**3. Skinny Card (3px Glow)**</p>
      <p>Skinny and short, content flows naturally.</p>
      <div class="tabs-example">
        <div class="tab-item">Tab 1 (H-Scroll)</div>
      </div>
    </div>
  </div>

  <div class="tron hover tron-square" style="--local-tron-width: 1px;">
    <div class="tron-content">
      <p>**4. Square (1px Glow)**</p>
      <p>Perfectly square frame.</p>
      <div class="tabs-example">
        <div class="tab-item">Tab 1</div>
      </div>
    </div>
  </div>

  <div class="tron hover tron-circle" style="--local-tron-width: 4px;">
    <div class="tron-content">
      <p>**5. Circle (4px Glow)**</p>
      <p>Round glow! Inner content follows the circle.</p>
    </div>
  </div>

</body>

</html>